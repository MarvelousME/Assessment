@using MyToolkit.Html
@using Phonebook.Web.ViewModels

@model  PhoneNumberEditorViewModel

<li style="cursor: move">
        <div class="panel panel-default panel-body">
            @using (Html.BeginCollectionItem("Numbers"))
            {
                @Html.HiddenFor(m => m.Id)
                <p>
                    @Html.LabelFor(m => m.Number)
                    @Html.TextBoxFor(m => m.Number, new { @class = "form-control" })
                    @Html.ValidationMessageFor(m => m.Number, null, new { @class = "text-danger" })
                </p>
                <p>
                         @{ var list = Session["ddlPhoneTypes"] == null ? Model.Numbers : Session["ddlPhoneTypes"] as List<SelectListItem>;}

                        @Html.LabelFor(m => m.PhoneBookTypeId)
                        @Html.DropDownListFor(m => m.PhoneBookTypeId, new SelectList(list, "Value", "Text"), new { @class = "form-control" })
                        @Html.ValidationMessageFor(m => m.PhoneBookTypeId, null, new { @class = "text-danger" })
                    </p>
                <input type="button" value="Delete" class="btn btn-default" onclick="$(this).parent().remove();" />
            }
        </div>
    </li>


